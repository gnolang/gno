// PKGPATH: gno.land/r/currealm_test
package currealm_test

import (
	"gno.land/r/demo/tests/crossrealm"
	"gno.land/r/demo/tests/crossrealm_c"
	"std"
)

func main() {
	crossing()
	testRealmAddr := std.DerivePkgAddr("gno.land/r/currealm_test")
	crossRealmAddr := std.DerivePkgAddr("gno.land/r/demo/tests/crossrealm")
	crossRealmCAddr := std.DerivePkgAddr("gno.land/r/demo/tests/crossrealm_c")
	pCrossRealmAddr := std.DerivePkgAddr("gno.land/p/demo/tests/p_crossrealm")
	println("currealm_test address: " + testRealmAddr)
	println("crossrealm address: " + crossRealmAddr)
	println("crossrealm_c address: " + crossRealmCAddr)
	println("p_crossrealm address: " + pCrossRealmAddr)
	println("")
	println("crossrealm CurRealmWithCrossing: " + cross(crossrealm.CurRealmWithCrossing)().Address())
	println("crossrealm CurRealmNoCrossing: " + crossrealm.CurRealmNoCrossing().Address())
	println()
	println("call through crossrealm_c:")
	crossrealm_c.CurRealmEntryPoint()
}

// Output:
// currealm_test address: g1qw3q56dy0gf05twjxuh2n3rrwdt42euw83nk5a
// crossrealm address: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
// crossrealm_c address: g1c6uxzeq2h574gg5ckrs2atp75t7tsmknk0gusu
// p_crossrealm address: g13gjt3l058a0mwhp22nz69s3t6hgmnrsumrvwfl
//
// crossrealm CurRealmWithCrossing: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
// crossrealm CurRealmNoCrossing: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
//
//call through crossrealm_c:
// crossrealm CurRealmWithCrossing: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
// crossrealm CurRealmNoCrossing: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
// p_crossrealm CurRealm: g1c6uxzeq2h574gg5ckrs2atp75t7tsmknk0gusu
// crossrealm PkgCurRealmWithCrossing: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
// crossrealm PkgCurRealmNoCrossing: g1m6pzw9ex0xk3hamzch0wtad4e696gjyju0z2tz
