# Test with a valid sample.gnoffee

gnoffee -w .

! stderr .+ 
! stdout .+

cmp gen.golden gnoffee.gen.go

-- sample.gnoffee --
package sample

type foo struct{}

export baz as Bar

var baz = foo{}

func (f *foo) Hello() string {
	return "Hello from foo!"
}

func (f *foo) Bye() {
	println("Goodbye from foo!")
}

type Bar interface {
	Hello() string
  Bye()
}

-- gen.golden --
package sample

// This function was generated by gnoffee due to the export directive.
func Hello() string {
	return baz.Hello()
}

// This function was generated by gnoffee due to the export directive.
func Bye() {
	baz.Bye()
}

type foo struct{}

var baz = foo{}

func (f *foo) Hello() string {
	return "Hello from foo!"
}

func (f *foo) Bye() {
	println("Goodbye from foo!")
}

type Bar interface {
	Hello() string
	Bye()
}
