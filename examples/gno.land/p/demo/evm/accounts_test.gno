package evm

import (
	"testing"

	"gno.land/p/demo/uint256"
)

func TestAccountCreateContract(t *testing.T) {
	env := NewEnv()
	accountId, err := env.Accounts.PushCaller(env, "12")
	if err != nil {
		t.Errorf("Error creating account : " + err.Error())
		return
	}
	_, err = env.Accounts[accountId].CreateContract(env, "6080604052348015600e575f5ffd5b5061014e8061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610029575f3560e01c806345773e4e1461002d575b5f5ffd5b61003561004b565b60405161004291906100f8565b60405180910390f35b60606040518060400160405280600b81526020017f48656c6c6f20576f726c64000000000000000000000000000000000000000000815250905090565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6100ca82610088565b6100d48185610092565b93506100e48185602086016100a2565b6100ed816100b0565b840191505092915050565b5f6020820190508181035f83015261011081846100c0565b90509291505056fea2646970667358221220d605c574dbd70813bba13dfaf4590960941c96c396ebaa5f28c84be5f55b550e64736f6c634300081e0033", uint256.One())
	if err != nil {
		t.Errorf("Error creating contract : " + err.Error())
		return
	}
}
