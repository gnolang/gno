# test for add package

## start a new node
gnoland start

## add hello.gno package located in $WORK directory as gno.land/r/decl
! gnokey maketx addpkg -pkgdir $WORK -pkgpath gno.land/r/decl -gas-fee 1000000ugnot -gas-wanted 2000000 -broadcast -chainid=tendermint_test test1

stderr '"gnokey" error: --= Error =--\nData: Cyclic dependency detected:'

-- decl.gno --
package decl

type A struct {
	X B
}

func Cmp() {
	var p, q A
	println(p == q)
}

-- decl2.gno --
package decl

type B struct {
	X C
}

type C struct {
	X A
}