var l=class t{DOM;static SELECTORS={toggle:".js-theme-toggle",root:"html"};static STORAGE_KEY="gnoweb-theme-preference";static DARK_CLASS="dark";constructor(){this.DOM={el:document.querySelector("main"),toggle:document.querySelector(t.SELECTORS.toggle)},this.DOM.el&&this.DOM.toggle?this.init():console.warn("Theme: Required elements not found.")}init(){this.applyInitialTheme(),this.bindEvents()}bindEvents(){this.DOM.toggle?.addEventListener("click",this.toggleTheme.bind(this))}applyInitialTheme(){let e=this.getSavedTheme(),i=window.matchMedia("(prefers-color-scheme: dark)");e?this.setTheme(e):this.setTheme(i.matches?"dark":"light"),i.addEventListener("change",s=>{this.getSavedTheme()||this.setTheme(s.matches?"dark":"light")})}toggleTheme(){let s=(document.documentElement.classList.contains(t.DARK_CLASS)?"dark":"light")==="dark"?"light":"dark";this.setTheme(s)}setTheme(e){let i=document.documentElement;e==="dark"?i.classList.add(t.DARK_CLASS):i.classList.remove(t.DARK_CLASS),localStorage.setItem(t.STORAGE_KEY,e)}getSavedTheme(){let e=localStorage.getItem(t.STORAGE_KEY);return e==="dark"||e==="light"?e:null}},n=()=>new l;export{n as default};
