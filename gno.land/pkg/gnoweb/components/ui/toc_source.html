{{- define "ui/toc_source" }}
<div class="space-y-4">
  <!-- README File Section -->
  {{ if .ReadmeFile.Link }}
  <div>
    <a class="flex items-start gap-2 line-clamp-2 hover:text-green-600 hover:underline" href="{{ .ReadmeFile.Link }}">
      <svg class="w-4 h-4 shrink-0 mt-0.5">
        <use href="#ico-{{ $.Icon }}"></use>
      </svg>
      {{ .ReadmeFile.Text }}
    </a>
  </div>
  {{ end }}

  <!-- Regular Files Section -->
  <div>
    <ul class="list-none space-y-2 mt-2">
      {{ range .GnoFiles }}
      <li>
        <a class="flex items-start gap-2 line-clamp-2 hover:text-green-600 hover:underline" href="{{ .Link }}">
          <svg class="w-4 h-4 shrink-0 mt-0.5">
            <use href="#ico-{{ $.Icon }}"></use>
          </svg>
          {{ .Text }}
        </a>
      </li>
      {{ end }}
    </ul>
  </div>

  <!-- Test Files Section -->
  {{ if .GnoTestFiles }}
  <details class="group">
    <summary class="flex items-center cursor-pointer">
      <svg class="w-4 h-4 mr-1 group-open:rotate-0 -rotate-90 my-auto">
        <use href="#ico-arrow"></use>
      </svg>
      <h3 class="font-medium font-interVar text-100">Test Files</h3>
    </summary>
    <ul class="list-none space-y-2 pl-5 mt-2">
      {{ range .GnoTestFiles }}
      <li>
        <a class="flex items-start gap-2 line-clamp-2 hover:text-green-600 hover:underline" href="{{ .Link }}">
          <svg class="w-4 h-4 shrink-0 mt-0.5">
            <use href="#ico-{{ $.Icon }}"></use>
          </svg>
          {{ .Text }}
        </a>
      </li>
      {{ end }}
    </ul>
  </details>
  {{ end }}
</div>
{{ end }} 