# XXX: Frame not found - PrevRealm in init()

loadpkg gno.land/r/foobar/bar $WORK/bar

## start a new node
gnoland start

# execute Render
gnokey query vm/qrender --data='gno.land/r/foobar/bar:X'
stdout ' orig=g1jg8mtutu9khhfwc4nxmuhcpftf0pajdhfvsqf5 prev=g1jg8mtutu9khhfwc4nxmuhcpftf0pajdhfvsqf5'

-- bar/bar.gno --
package bar

import "chain/runtime"

var orig = address("orig")
var prev = address("prev")

func init() {
	orig = runtime.OriginCaller()
	prev = runtime.PreviousRealm().Address()
}

func Render(addr string) string {
	return " orig=" + orig.String() + " prev=" + prev.String()
}
