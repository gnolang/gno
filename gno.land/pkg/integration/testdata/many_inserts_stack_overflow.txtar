loadpkg gno.land/r/archive/boards
loadpkg gno.land/r/gnoland/users/v1 $WORK/users_v1

# start a new node
gnoland start -no-parallel

gnokey maketx call -pkgpath gno.land/r/archive/boards -func CreateBoard -args 'testboard' -gas-fee 1000000ugnot -gas-wanted 50000000 -broadcast -chainid=tendermint_test test1
stdout 'OK!'
gnokey maketx call -pkgpath gno.land/r/archive/boards -func CreateThread -args 1 -args 'thread1' -args 'thread1' -gas-fee 1000000ugnot -gas-wanted 50000000 -broadcast -chainid=tendermint_test test1
stdout 'OK!'

gnokey maketx run -max-deposit 2000000000ugnot -gas-fee 10000000ugnot -gas-wanted 2999999999 -broadcast -chainid=tendermint_test test1 $WORK/script/script.gno
stdout 'OK!'

-- users_v1/gnomod.toml --
module = "gno.land/r/gnoland/users/v1"
gno = "0.9"

-- users_v1/users.gno --
package users

import susers "gno.land/r/sys/users"

func init() {
	susers.RegisterUser(cross, "test1", address("g1jg8mtutu9khhfwc4nxmuhcpftf0pajdhfvsqf5"))
}

-- script/script.gno --
package main
import "gno.land/r/archive/boards"

func main() {
	n := 1000
	for i := 0; i < n; i++ {
		boards.CreateReply(cross, boards.BoardID(1), boards.PostID(1), boards.PostID(1), "reply")
	}
}
